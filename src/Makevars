# define PETSC_DIR (if not already set as environmental variable)
# PETSC_DIR=/usr/local/lib/python2.7/dist-packages/petsc
# MPI_INCLUDE=/usr/include/mpich

ifeq ($(MPI_INCLUDE), )
	MPI_INCLUDE = -I$(PETSC_DIR)/include/petsc/mpiuni	
endif

ifeq ($(PETSC_ARCH), )
	PETSC_INCLUDE = -I$(PETSC_DIR)/include
	PETSC_LIB = $(PETSC_DIR)/lib
else
	PETSC_INCLUDE = -I$(PETSC_DIR)/$(PETSC_ARCH)/include -I$(PETSC_DIR)/include
	PETSC_LIB = $(PETSC_DIR)/$(PETSC_ARCH)/lib
endif

# link to PETSC, lapack, blas and a few more libraries
PKG_LIBS = -Wl,-rpath,$(PETSC_LIB) -L$(PETSC_LIB)  -lpetsc -llapack -lblas -lpthread -lm -lgfortran -lquadmath -lstdc++ -ldl

# add include directories so that the c code can find the headers
PKG_CXXFLAGS = $(PETSC_INCLUDE) $(MPI_INCLUDE)
